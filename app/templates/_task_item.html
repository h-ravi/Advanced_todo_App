<li class="group relative p-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm flex gap-4 items-start" data-task-id="{{ task.id }}">
  <button data-task="{{ task.id }}" class="toggle-task shrink-0 mt-1 w-5 h-5 rounded-md border flex items-center justify-center text-[10px] font-bold transition
    {% if task.completed %}bg-emerald-500 border-emerald-500 text-white shadow-inner{% else %}border-slate-300 dark:border-slate-600 hover:border-brand-500 hover:bg-brand-50 dark:hover:bg-slate-700{% endif %}">
    {% if task.completed %}âœ“{% endif %}
  </button>
  <div class="flex-1 min-w-0">
    <div class="flex items-start gap-2">
      <h3 class="text-sm font-medium leading-tight {% if task.completed %}line-through text-slate-400 dark:text-slate-500{% endif %}">{{ task.title }}</h3>
    </div>
    {% if task.description %}
    <p class="mt-1 text-xs leading-relaxed text-slate-600 dark:text-slate-300 whitespace-pre-line">{{ task.description }}</p>
    {% endif %}
    <div class="mt-2 flex items-center gap-3 text-[11px] text-slate-400 dark:text-slate-500">
      <span class="inline-flex items-center gap-1"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"/></svg>{{ task.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
      {% if task.completed %}<span class="done-pill inline-flex items-center gap-1 text-emerald-600 dark:text-emerald-400"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5"/></svg>Done</span>{% endif %}
    </div>
  </div>
  <form method="POST" action="{{ url_for('main.delete_task', task_id=task.id) }}" class="opacity-0 group-hover:opacity-100 transition flex items-start" onsubmit="return confirm('Delete task?')">
    <button class="px-2 py-1 rounded-md text-[11px] font-medium bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/50 border border-red-200 dark:border-red-800">Delete</button>
  </form>
</li>